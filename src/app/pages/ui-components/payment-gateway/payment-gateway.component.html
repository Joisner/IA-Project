<div class="payment-container">
  <div class="payment-form">
    <h2>Pago Seguro con Stripe</h2>
    <form [formGroup]="paymentForm" (ngSubmit)="handleSubmit()">
      <div class="form-group" [ngClass]="{'ng-invalid': paymentForm.get('fullName')?.invalid && paymentForm.get('fullName')?.touched}">
        <label for="fullName">Nombre Completo</label>
        <input 
          type="text" 
          id="fullName" 
          formControlName="fullName" 
          placeholder="Juan Pérez"
        >
        <div *ngIf="paymentForm.get('fullName')?.invalid && paymentForm.get('fullName')?.touched" class="text-red-500 text-sm">
          Nombre válido requerido
        </div>
      </div>
      
      <div class="form-group" [ngClass]="{'ng-invalid': paymentForm.get('email')?.invalid && paymentForm.get('email')?.touched}">
        <label for="email">Correo Electrónico</label>
        <input 
          type="email" 
          id="email" 
          formControlName="email"
          placeholder="juan.perez@ejemplo.com"
        >
        <div *ngIf="paymentForm.get('email')?.invalid && paymentForm.get('email')?.touched" class="text-red-500 text-sm">
          Correo electrónico válido requerido
        </div>
      </div>

      <div class="form-group">
        <label for="billingAddress">Dirección de Facturación</label>
        <input 
          type="text" 
          id="billingAddress" 
          formControlName="billingAddress"
          placeholder="Calle Principal 123"
        >
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div class="form-group" [ngClass]="{'ng-invalid': paymentForm.get('city')?.invalid && paymentForm.get('city')?.touched}">
          <label for="city">Ciudad</label>
          <input 
            type="text" 
            id="city" 
            formControlName="city"
            placeholder="Madrid"
          >
          <div *ngIf="paymentForm.get('city')?.invalid && paymentForm.get('city')?.touched" class="text-red-500 text-sm">
            Campo requerido
          </div>
        </div>
        <div class="form-group" [ngClass]="{'ng-invalid': paymentForm.get('postalCode')?.invalid && paymentForm.get('postalCode')?.touched}">
          <label for="postalCode">Código Postal</label>
          <input 
            type="text" 
            id="postalCode" 
            formControlName="postalCode"
            placeholder="28001"
          >
          <div *ngIf="paymentForm.get('postalCode')?.invalid && paymentForm.get('postalCode')?.touched" class="text-red-500 text-sm">
            Código postal válido requerido
          </div>
        </div>
      </div>

      <div class="form-group" [ngClass]="{'ng-invalid': paymentForm.get('country')?.invalid && paymentForm.get('country')?.touched}">
        <label for="country">País</label>
        <select id="country" formControlName="country">
          <option value="">Seleccione un país</option>
          <option value="ES">España</option>
          <option value="US">Estados Unidos</option>
          <option value="FR">Francia</option>
        </select>
        <div *ngIf="paymentForm.get('country')?.invalid && paymentForm.get('country')?.touched" class="text-red-500 text-sm">
          Campo requerido
        </div>
      </div>

      <div class="form-group">
        <label for="card-element">Detalles de la Tarjeta</label>
        <div id="card-element"></div>
        <div id="card-errors" role="alert"></div>
      </div>

      <button 
        type="submit" 
        [disabled]="!stripe || processing || paymentForm.invalid"
      >
        {{ processing ? 'Procesando...' : 'Pagar ahora' }}
      </button>
    </form>
  </div>
</div>